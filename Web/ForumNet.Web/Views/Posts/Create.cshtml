@using ForumNet.Web.ViewModels.Posts
@using ForumNet.Services.Contracts

@model PostsInputViewModel
@inject ICategoriesService CategoriesService

@{
    ViewData["Title"] = "Create Post";
}

<div class="container">
    <div class="tt-wrapper-inner">
        <h1 class="tt-title-border">
            Create New Post
        </h1>
        <form class="form-default form-create-topic" asp-action="Create">
            <div asp-validation-summary="All" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Title">Post Title</label>
                <div class="tt-value-wrapper">
                    <input asp-for="Title" type="text" class="form-control" id="inputTopicTitle" placeholder="Subject of your post">
                    <span asp-validation-for="Title" class="tt-value-input">130</span>
                </div>
                <div class="tt-note">Describe your post well, while keeping the subject as short as possible.</div>
            </div>
            <div class="form-group">
                <label asp-for="PostType">Post Type</label>
                <div class="tt-js-active-btn tt-wrapper-btnicon">
                    <div class="row tt-w410-col-02">
                        <div class="col-4 col-lg-3 col-xl-2">
                            <input asp-for="PostType" type="radio" value="Discussion" />
                            <a href="#" class="tt-button-icon">
                                <span class="tt-icon">
                                    <svg>
                                        <use xlink:href="#icon-discussion"></use>
                                    </svg>
                                </span>
                                <span asp-validation-for="PostType" class="tt-text">Discussion</span>
                            </a>
                        </div>
                        <div class="col-4 col-lg-3 col-xl-2">
                            <input asp-for="PostType" type="radio" value="Image" />
                            <a href="#" class="tt-button-icon">
                                <span class="tt-icon">
                                    <svg>
                                        <use xlink:href="#icon-gallery"></use>
                                    </svg>
                                </span>
                                <span asp-validation-for="PostType" class="tt-text">Image</span>
                            </a>
                        </div>
                        <div class="col-4 col-lg-3 col-xl-2">
                            <input asp-for="PostType" type="radio" value="Video" />
                            <a href="#" class="tt-button-icon">
                                <span class="tt-icon">
                                    <svg>
                                        <use xlink:href="#Video"></use>
                                    </svg>
                                </span>
                                <span asp-validation-for="PostType" class="tt-text">Video</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="ImageOrVideoUrl"></label>
                <div class="tt-value-wrapper">
                    <input asp-for="ImageOrVideoUrl" type="text" class="form-control" placeholder="Url...">
                    <span asp-validation-for="ImageOrVideoUrl" class="tt-value-input"></span>
                </div>
            </div>
            <div class="pt-editor">
                <h6 class="pt-title">Post Description</h6>
                <div class="form-group">
                    <textarea asp-for="Description" class="form-control" rows="5" placeholder="Lets get started"></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="CategoryId">Category</label>
                            <select asp-for="CategoryId" class="form-control">
                                <option hidden>Please select...</option>
                                @{
                                    var categories = await this.CategoriesService.GetAllAsync<CategoriesListingViewModel>();

                                    foreach (var category in categories)
                                    {
                                        <option value="@category.Id">@category.Name</option>
                                    }
                                }
                            </select>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="form-group">
                            <label asp-for="Tags">Tags</label>
                            <input asp-for="Tags" type="text" class="form-control" id="inputTopicTags" placeholder="Use comma to separate tags">
                            <span asp-validation-for="Tags" class="text-danger"></span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-auto ml-md-auto">
                        <button type="submit" class="btn btn-secondary btn-width-lg">Create Post</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}